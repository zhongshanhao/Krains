(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{579:function(s,a,n){"use strict";n.r(a);var e=n(4),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[n("a",{attrs:{href:"https://leetcode-cn.com/problems/second-highest-salary/",target:"_blank",rel:"noopener noreferrer"}},[s._v("176. 第二高的薪水"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("编写一个 SQL 查询，获取 Employee 表中第二高的薪水（Salary） 。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+----+--------+\n| Id | Salary |\n+----+--------+\n| 1  | 100    |\n| 2  | 200    |\n| 3  | 300    |\n+----+--------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("例如上述 Employee 表，SQL查询应该返回 200 作为第二高的薪水。如果不存在第二高的薪水，那么查询应返回 null。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+---------------------+\n| SecondHighestSalary |\n+---------------------+\n| 200                 |\n+---------------------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用limit，limit a offset b, 返回a条数据，b是偏移量，从0开始，")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从b开始返回a条数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# limit b, a")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v(" Salary\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" Employee\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" Salary "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("offset")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" SecondHighestSalary\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h2",{attrs:{id:"joins"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#joins"}},[s._v("#")]),s._v(" JOINS")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://gitee.com/Krains/FigureBed/raw/master/img/sql_join.png",alt:"sql_join"}})]),s._v(" "),n("h4",{attrs:{id:"_175-组合两个表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_175-组合两个表"}},[s._v("#")]),s._v(" "),n("a",{attrs:{href:"https://leetcode-cn.com/problems/combine-two-tables/",target:"_blank",rel:"noopener noreferrer"}},[s._v("175. 组合两个表"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("表1: "),n("code",[s._v("Person")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+-------------+---------+\n| 列名         | 类型     |\n+-------------+---------+\n| PersonId    | int     |\n| FirstName   | varchar |\n| LastName    | varchar |\n+-------------+---------+\nPersonId 是上表主键\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("表2: "),n("code",[s._v("Address")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+-------------+---------+\n| 列名         | 类型    |\n+-------------+---------+\n| AddressId   | int     |\n| PersonId    | int     |\n| City        | varchar |\n| State       | varchar |\n+-------------+---------+\nAddressId 是上表主键 \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("编写一个 SQL 查询，满足条件：无论 person 是否有地址信息，都需要基于上述两表提供 person 的以下信息：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("FirstName, LastName, City, State\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("左连接，将左表的数据都显示出来，右表只保留公共的部分，没有的用null替代")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n    FirstName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" LastName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" City"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" State\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" \n    Person "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" A\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v("\n    Address "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" B\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v("\n    A"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonId "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" B"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PersonId\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h4",{attrs:{id:"_181-超过经理收入的员工"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_181-超过经理收入的员工"}},[s._v("#")]),s._v(" "),n("a",{attrs:{href:"https://leetcode-cn.com/problems/employees-earning-more-than-their-managers/",target:"_blank",rel:"noopener noreferrer"}},[s._v("181. 超过经理收入的员工"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("code",[s._v("Employee")]),s._v(" 表包含所有员工，他们的经理也属于员工。每个员工都有一个 Id，此外还有一列对应员工的经理的 Id。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+----+-------+--------+-----------+\n| Id | Name  | Salary | ManagerId |\n+----+-------+--------+-----------+\n| 1  | Joe   | 70000  | 3         |\n| 2  | Henry | 80000  | 4         |\n| 3  | Sam   | 60000  | NULL      |\n| 4  | Max   | 90000  | NULL      |\n+----+-------+--------+-----------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("给定 "),n("code",[s._v("Employee")]),s._v(" 表，编写一个 SQL 查询，该查询可以获取收入超过他们经理的员工的姓名。在上面的表格中，Joe 是唯一一个收入超过他的经理的员工。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+----------+\n| Employee |\n+----------+\n| Joe      |\n+----------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Write your MySQL query statement below")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接时a.ManagerId = b.Id时a表放前面")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 反过来b表放前面，这是为什么？怎么判断的？")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 内连接")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- select")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     a.Name as Employee")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- from")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     Employee as a ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- join")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     Employee as b ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- on")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     a.ManagerId = b.Id")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- where")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     a.Salary > b.Salary;")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 笛卡尔积")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" \n    a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Employee\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v("   \n    Employee "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    Employee "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" b \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v("   \n    a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ManagerId "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Id\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v("\n    a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Salary "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Salary"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("h4",{attrs:{id:"_182-查找重复的电子邮箱"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_182-查找重复的电子邮箱"}},[s._v("#")]),s._v(" "),n("a",{attrs:{href:"https://leetcode-cn.com/problems/duplicate-emails/",target:"_blank",rel:"noopener noreferrer"}},[s._v("182. 查找重复的电子邮箱"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("编写一个 SQL 查询，查找 "),n("code",[s._v("Person")]),s._v(" 表中所有重复的电子邮箱。")]),s._v(" "),n("p",[n("strong",[s._v("示例：")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+----+---------+\n| Id | Email   |\n+----+---------+\n| 1  | a@b.com |\n| 2  | c@d.com |\n| 3  | a@b.com |\n+----+---------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("根据以上输入，你的查询应返回以下结果：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+---------+\n| Email   |\n+---------+\n| a@b.com |\n+---------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Write your MySQL query statement below")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 子查询，圆括号()，给表取别名")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n    Email\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n            Email"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Email"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" num\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v("\n            Person\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v("\n            Email\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" temp_table\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" num "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用having")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- select ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     Email")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- from")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     Person")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- group by")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     Email")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- having count(Email) >=2;")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("h4",{attrs:{id:"_183-从不订购的客户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_183-从不订购的客户"}},[s._v("#")]),s._v(" "),n("a",{attrs:{href:"https://leetcode-cn.com/problems/customers-who-never-order/",target:"_blank",rel:"noopener noreferrer"}},[s._v("183. 从不订购的客户"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("某网站包含两个表，"),n("code",[s._v("Customers")]),s._v(" 表和 "),n("code",[s._v("Orders")]),s._v(" 表。编写一个 SQL 查询，找出所有从不订购任何东西的客户。")]),s._v(" "),n("p",[n("code",[s._v("Customers")]),s._v(" 表：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+----+-------+\n| Id | Name  |\n+----+-------+\n| 1  | Joe   |\n| 2  | Henry |\n| 3  | Sam   |\n| 4  | Max   |\n+----+-------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[n("code",[s._v("Orders")]),s._v(" 表：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+----+------------+\n| Id | CustomerId |\n+----+------------+\n| 1  | 3          |\n| 2  | 1          |\n+----+------------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("例如给定上述表格，你的查询应返回：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+-----------+\n| Customers |\n+-----------+\n| Henry     |\n| Max       |\n+-----------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Write your MySQL query statement below")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# left join, 保留左边的全部数据，右表没有则填充null")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- select")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     a.Name as Customers")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- from")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     Customers as a")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- left join")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     Orders as b ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- on")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     a.Id = b.CustomerId")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- where")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--     b.Id is null;")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用子查询和 not in (里面应该是记录而不是表，加了别名就成表了)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("  \n    Name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Customers\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v("\n    Customers\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" Id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("  \n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v(" CustomerId\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v("\n        Orders\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);